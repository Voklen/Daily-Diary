Just some dependency updates and code refactoring. Thanks to @berhili098 for the pull request.